<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Finalizar Compra • Renan Pratas</title>
	<meta name="description" content="Finalize sua compra de joias de prata premium. Carrinho, dados pessoais e pagamento via Pix." />
	<link rel="preconnect" href="https://unpkg.com" crossorigin>
	<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
	<link rel="stylesheet" href="./styles.css" />
	<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs/%3E%3Ccircle cx='32' cy='32' r='30' fill='black'/%3E%3Cpath d='M20 40c0-8 6-16 12-16s12 8 12 16' stroke='white' stroke-width='3' fill='none'/%3E%3Cpath d='M24 28c2-4 5-6 8-6s6 2 8 6' stroke='silver' stroke-width='2' fill='none'/%3E%3C/svg%3E" />
</head>
<body class="checkout-body">
	<!-- Enhanced Particle Canvas Background -->
	<canvas id="particle-canvas" class="particle-canvas"></canvas>
	
	<!-- Constellation Lines -->
	<div class="constellation-lines">
		<svg class="constellation-svg" viewBox="0 0 100 100" preserveAspectRatio="none">
			<defs>
				<linearGradient id="starGradient" x1="0%" y1="0%" x2="100%" y2="100%">
					<stop offset="0%" style="stop-color:rgba(207,214,221,0.4);stop-opacity:1" />
					<stop offset="50%" style="stop-color:rgba(207,214,221,0.2);stop-opacity:1" />
					<stop offset="100%" style="stop-color:rgba(207,214,221,0.1);stop-opacity:1" />
				</linearGradient>
			</defs>
			<g class="constellation-group">
				<!-- Constellation lines will be generated by JavaScript -->
			</g>
		</svg>
	</div>

	<!-- Floating Elements for Checkout -->
	<div class="floating-elements checkout-floating">
		<div class="float-element" data-speed="0.5" data-delay="0"></div>
		<div class="float-element" data-speed="0.8" data-delay="0.5"></div>
		<div class="float-element" data-speed="0.3" data-delay="1"></div>
		<div class="float-element" data-speed="0.6" data-delay="1.5"></div>
		<div class="float-element" data-speed="0.4" data-delay="2"></div>
		<div class="float-element" data-speed="0.7" data-delay="2.5"></div>
	</div>

	<div id="scroll-progress"></div>

	<header class="site-header glass-header">
		<nav class="nav">
			<a class="brand" href="index.html">
				<span class="logo">◆</span>
				<span>Renan Pratas</span>
			</a>
			<a class="btn-secondary back-btn" href="index.html">
				<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
					<path d="M19 12H5M12 19l-7-7 7-7"/>
				</svg>
				Voltar
			</a>
		</nav>
	</header>

	<main class="checkout-page">
		<div class="checkout-inner">
			<div class="checkout-main">
				<div class="checkout-header">
					<h1>✨ Finalizar Compra</h1>
					<p>Complete seus dados e escolha a forma de pagamento</p>
				</div>

				<!-- Enhanced Steps Container -->
				<div class="steps-container">
					<div class="step active" data-step="1">
						<div class="step-number">1</div>
						<div class="step-label">Carrinho</div>
						<div class="step-icon">🛒</div>
					</div>
					<div class="step-line"></div>
					<div class="step" data-step="2">
						<div class="step-number">2</div>
						<div class="step-label">Dados</div>
						<div class="step-icon">👤</div>
					</div>
					<div class="step-line"></div>
					<div class="step" data-step="3">
						<div class="step-number">3</div>
						<div class="step-label">Pagamento</div>
						<div class="step-icon">💳</div>
					</div>
				</div>

				<!-- Step 1: Cart Review -->
				<section class="step-content active" id="step-1">
					<div class="step-header">
						<h2>🛒 Seu Carrinho</h2>
						<p>Revise os itens antes de continuar</p>
					</div>
					
					<div id="cart-items" class="cart-items">
						<!-- Cart items will be populated here -->
					</div>
					
					<div class="step-actions">
						<a href="index.html" class="btn-secondary">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M19 12H5M12 19l-7-7 7-7"/>
							</svg>
							Continuar Comprando
						</a>
						<button class="btn-primary glow-btn" onclick="nextStep()">
							Continuar
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M5 12h14M12 5l7 7-7 7"/>
							</svg>
						</button>
					</div>
				</section>

				<!-- Step 2: Customer Information -->
				<section class="step-content" id="step-2" style="display: none;">
					<div class="step-header">
						<h2>👤 Seus Dados</h2>
						<p>Preencha suas informações pessoais e de entrega</p>
					</div>
					
					<form class="checkout-form" id="customer-form">
						<div class="form-section glass-card">
							<h3>📋 Informações Pessoais</h3>
							<div class="form-grid">
								<label class="full">
									<span class="label-text">Nome Completo</span>
									<input type="text" name="name" required>
								</label>
								<label>
									<span class="label-text">Email</span>
									<input type="email" name="email" required>
								</label>
								<label>
									<span class="label-text">Telefone</span>
									<input type="tel" name="phone" required>
								</label>
							</div>
						</div>

						<div class="form-section glass-card">
							<h3>📍 Endereço de Entrega</h3>
							<div class="form-grid">
								<label>
									<span class="label-text">CEP</span>
									<input type="text" name="cep" id="cep" maxlength="9" required>
								</label>
								<label>
									<span class="label-text">Número</span>
									<input type="text" name="number" required>
								</label>
								<label class="full">
									<span class="label-text">Rua</span>
									<input type="text" name="street" id="street" required>
								</label>
								<label>
									<span class="label-text">Complemento</span>
									<input type="text" name="complement">
								</label>
								<label>
									<span class="label-text">Bairro</span>
									<input type="text" name="neighborhood" id="neighborhood" required>
								</label>
								<label>
									<span class="label-text">Cidade</span>
									<input type="text" name="city" id="city" required>
								</label>
								<label>
									<span class="label-text">Estado</span>
									<select name="state" id="state" required>
										<option value="">Selecione...</option>
										<option value="AC">Acre</option>
										<option value="AL">Alagoas</option>
										<option value="AP">Amapá</option>
										<option value="AM">Amazonas</option>
										<option value="BA">Bahia</option>
										<option value="CE">Ceará</option>
										<option value="DF">Distrito Federal</option>
										<option value="ES">Espírito Santo</option>
										<option value="GO">Goiás</option>
										<option value="MA">Maranhão</option>
										<option value="MT">Mato Grosso</option>
										<option value="MS">Mato Grosso do Sul</option>
										<option value="MG">Minas Gerais</option>
										<option value="PA">Pará</option>
										<option value="PB">Paraíba</option>
										<option value="PR">Paraná</option>
										<option value="PE">Pernambuco</option>
										<option value="PI">Piauí</option>
										<option value="RJ">Rio de Janeiro</option>
										<option value="RN">Rio Grande do Norte</option>
										<option value="RS">Rio Grande do Sul</option>
										<option value="RO">Rondônia</option>
										<option value="RR">Roraima</option>
										<option value="SC">Santa Catarina</option>
										<option value="SP">São Paulo</option>
										<option value="SE">Sergipe</option>
										<option value="TO">Tocantins</option>
									</select>
								</label>
							</div>
						</div>
					</form>
					
					<div class="step-actions">
						<button class="btn-secondary" onclick="prevStep()">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M19 12H5M12 19l-7-7 7-7"/>
							</svg>
							Voltar
						</button>
						<button class="btn-primary glow-btn" onclick="nextStep()">
							Continuar
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M5 12h14M12 5l7 7-7 7"/>
							</svg>
						</button>
					</div>
				</section>

				<!-- Step 3: Payment & WhatsApp -->
				<section class="step-content" id="step-3" style="display: none;">
					<div class="step-header">
						<h2>💳 Finalizar Pedido</h2>
						<p>Escolha como deseja finalizar sua compra</p>
					</div>
					
					<div class="payment-options">
						<div class="payment-option whatsapp-option glass-card">
							<div class="option-header">
								<div class="option-icon">📱</div>
								<div class="option-info">
									<h3>Finalizar via WhatsApp</h3>
									<p>Envie seu pedido diretamente para nossos atendentes</p>
								</div>
							</div>
							<button class="btn-primary whatsapp-btn glow-btn" onclick="finalizeWithWhatsApp()">
								📱 Finalizar via WhatsApp
							</button>
						</div>

						<div class="payment-option pix-option glass-card">
							<div class="option-header">
								<div class="option-icon">💳</div>
								<div class="option-info">
									<h3>Pagamento via Pix</h3>
									<p>Pague online e receba confirmação instantânea</p>
								</div>
							</div>
							<button class="btn-secondary" onclick="showPixPayment()">
								💳 Pagar com Pix
							</button>
						</div>
					</div>

					<div class="pix-area glass-card" id="pix-area" style="display: none;">
						<div class="pix-qr-container">
							<div id="pix-loading" class="pix-loading">
								<div class="spinner"></div>
								<p>Gerando Pix...</p>
							</div>
							<img id="pix-qr" src="" alt="QR Code Pix" style="display: none;">
						</div>
						
						<div class="pix-code-area">
							<label>
								<span class="label-text">Código Pix (copie e cole no seu app bancário)</span>
								<input type="text" id="pix-code" readonly>
							</label>
							<button class="btn-secondary" onclick="copyPixCode()">📋 Copiar Código</button>
						</div>
						
						<div id="pix-status" class="pix-status">
							<p>Status: aguardando pagamento...</p>
						</div>
					</div>
					
					<div class="step-actions">
						<button class="btn-secondary" onclick="prevStep()">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M19 12H5M12 19l-7-7 7-7"/>
							</svg>
							Voltar
						</button>
					</div>
				</section>
			</div>

			<aside class="checkout-sidebar">
				<div class="order-summary glass-card">
					<h3>📋 Resumo do Pedido</h3>
					<div id="summary-items" class="summary-items">
						<!-- Summary items will be populated here -->
					</div>
					<div class="summary-totals">
						<div class="summary-row">
							<span>Subtotal:</span>
							<span id="subtotal">R$ 0,00</span>
						</div>
						<div class="summary-row">
							<span>Frete:</span>
							<span style="color: #25d366; font-weight: 600;">Grátis</span>
						</div>
						<div class="summary-row total">
							<span>Total:</span>
							<span id="total">R$ 0,00</span>
						</div>
					</div>
				</div>
			</aside>
		</div>
	</main>

	<script defer src="./js/particles.js"></script>
	<script defer src="./js/background-effects.js"></script>
	<script defer src="./js/cart.js"></script>
	<script defer src="./js/mobile-nav.js"></script>
	<script defer src="./js/checkout.js"></script>
</body>
</html>
